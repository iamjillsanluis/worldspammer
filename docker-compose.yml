version: '3'
services:
  scheduler:
    build: .
    command: "python scheduler.py"
    volumes:
      - .:/code
  worker:
    build: .
    command: "python worker.py"
    volumes:
      - .:/code
  rabbitmq:
    image: rabbitmq:3
    ports:
      - "8888:15672"
      - "5672:5672"
      - "5671:5671"
    environment:
      RABBITMQ_DEFAULT_PASS: pass
      RABBITMQ_DEFAULT_USER: user
      RABBITMQ_DEFAULT_VHOST: vhost
